{% extends "middleShared/base_template.html" %}
{% load static %}
{% load poll_extras %}
{% block page_title %}
Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†
{% endblock page_title %}

{% block main_content %}
 
<div class="container ">
{#{% if messages %}#}
{#   <div class="row mb-2">#}
{##}
{#    {% for message in messages %}#}
{#        <div class="alert alert-{{ message.tags }}">#}
{#            {{ message }}#}
{#        </div>#}
{#    {% endfor %}#}
{##}
{#</div>#}
{#{% endif %}#}
<div class="row mt-2 g-3">
    <div class="col-12">
          <!-- Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø± -->
    <div class="card mb-4">
        <div class="card-header">Ù…Ø´Ø®ØµØ§Øª Ú©Ø§Ø±Ø¨Ø±</div>
        <div class="card-body">
            <p><strong>Ù†Ø§Ù…:</strong> {{ user_obj.full_name }}</p>
            <p><strong>Ø§ÛŒÙ…ÛŒÙ„:</strong> Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>
            <p><strong>Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„:</strong> {{ user_obj.mobile }}</p>
            <p><strong>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong> {{ user_obj.username }}</p>
            <p><strong>Ø¢Ø®Ø±ÛŒÙ† ÙˆØ±ÙˆØ¯:</strong> {{ user_obj.last_login|show_jalali_date_time }}</p>
              <img src="/static/img/user_profile.jpg" class="profile-image-user" alt="">

        </div>
    </div>
    </div>
{#    <div class="col-12 col-lg-6">#}
{#            <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ø­Ø¯ -->#}
{#    <div class="card mb-4">#}
{#        <div class="card-header">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ø­Ø¯</div>#}
{#        <div class="card-body">#}
{#            {% if unit %}#}
{#                <p><strong>Ø´Ù…Ø§Ø±Ù‡ ÙˆØ§Ø­Ø¯:</strong> {{ unit.unit }}</p>#}
{#                <p><strong>Ø·Ø¨Ù‚Ù‡:</strong> {{ unit.floor_number }}</p>#}
{#                <p><strong>Ù…ØªØ±Ø§Ú˜:</strong> {{ unit.area }}Ù…ØªØ± </p>#}
{#                <p><strong>ØªØ¹Ø¯Ø§Ø¯ Ø®ÙˆØ§Ø¨:</strong> {{ unit.bedrooms_count }}</p>#}
{#                <p><strong>ÙˆØ¶Ø¹ÛŒØª:</strong>#}
{#                    {% if unit.is_renter %} Ù…Ø³ØªØ§Ø¬Ø± {% else %} Ù…Ø§Ù„Ú© {% endif %}#}
{#                </p>#}
{#                        <img src="/static/img/home.png" class="profile-image" alt="">#}
{##}
{#            {% else %}#}
{#                <p class="text-muted">ÙˆØ§Ø­Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>#}
{#            {% endif %}#}
{#        </div>#}
{#    </div>#}
{#    </div>#}
</div>

    <!-- ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± -->
    <div class="card">
        <div class="card-header">ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</div>
        <div class="card-body">
            <p class="text-danger">ØªÙˆØ¬Ù‡: Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ù…ÛŒØ¨Ø§ÛŒØ³Øª 8 Ø±Ù‚Ù… Ùˆ Ø´Ø§Ù…Ù„ Ø§Ø¹Ø¯Ø§Ø¯ Ùˆ Ø­Ø±ÙˆÙ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ Ø¨Ø§Ø´Ø¯.</p>
            <form method="post">
                {% csrf_token %}
                {{ password_form.non_field_errors }}

       <div class="password-wrapper">
    {{ password_form.old_password.label_tag }}
    <div class="password-field">
        {{ password_form.old_password }}
        <span class="toggle-password" onclick="togglePassword(this)">ğŸ™ˆï¸</span>
    </div>
</div>

<div class="password-wrapper">
    {{ password_form.new_password1.label_tag }}
    <div class="password-field">
        {{ password_form.new_password1 }}
        <span class="toggle-password" onclick="togglePassword(this)">ğŸ™ˆï¸</span>
    </div>
</div>

<div class="password-wrapper">
    {{ password_form.new_password2.label_tag }}
    <div class="password-field">
        {{ password_form.new_password2 }}
        <span class="toggle-password" onclick="togglePassword(this)">ğŸ™ˆï¸</span>
    </div>
</div>


                <button type="submit" class="btn btn-primary mt-3">
                    ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
                </button>
            </form>
          <img src="/static/img/password_change.png" class="profile-image-password" alt="">

        </div>
    </div>

</div>
    <script>
function togglePassword(element) {
    const input = element.previousElementSibling;
    if (input.type === "password") {
        input.type = "text";
        element.textContent = "ğŸ‘ï¸";
    } else {
        input.type = "password";
        element.textContent = "ğŸ™ˆï¸";
    }
}
</script>
{% endblock %}
