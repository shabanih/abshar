{% extends 'middleShared/base_template.html' %}
{% load static %}
{% load poll_extras %}
{% load jalali_tags %}

{% block page_title %}
شارژ های ساختمان
{% endblock page_title %}

{% block main_content %}
    <hr/>
<div class="container mt-3">


    <div class="row g-2 align-items-center mb-3">

        <!-- جستجو -->
        <div class="col-12 col-md-7">
            <form method="get" class="d-flex gap-2">
                <input type="text"
                       class="form-control"
                       name="q"
                       value="{{ query }}"
                       placeholder="جستجو..."
                       dir="rtl"
                       autocomplete="off"
                       oninput="if(this.value==='') this.form.submit();">
                <button type="submit" class="btn btn-info py-2">
                    جستجو
                </button>
            </form>
        </div>

        <!-- خروجی -->
        <div class="col-12 col-md-3 d-flex gap-1">
            <a href="{% url 'export_middle_report_excel' %}"
               class="btn btn-gradient-success w-50">
                Excel
            </a>
            <a href="{% url 'export_middle_report_pdf' %}?{{ request.GET.urlencode }}"
               class="btn btn-gradient-danger w-50">
                PDF
            </a>
        </div>

        <!-- تعداد نمایش -->
     <div class="col-12 col-md-2 col-xl-2 p-3 "> 
         <div class="d-flex align-items-center gap-1"> 
             <label for="cardsPerPage" class="form-label mb-0">تعداد نمایش:</label> 
             <select id="cardsPerPage" class="form-select select-fix" 
                     style="width: auto;" onchange="window.location.href='?q={{ query }}&paginate=' + this.value;"> 
                 <option value="20" {% if request.GET.paginate|default:'20' == '20' %}selected{% endif %}>20</option> 
                 <option value="50" {% if request.GET.paginate == '50' %}selected{% endif %}>50</option> 
                 <option value="100" {% if request.GET.paginate == '100' %}selected{% endif %}>100</option> 
                 <option value="1000" {% if request.GET.paginate == '1000' %}selected{% endif %}>همه</option>
             </select>
         </div> 
     </div>

    </div>
    <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                 لیست شارژ ثابت </div>
      <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                    <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th>تعداد واحدها</th>
{#                                        <th class="p-0">مبلغ شارژ به ازای هر واحد(تومان)</th>#}
                                          <th> شارژ کل ماهانه </th>
                                          <th> توضیحات </th>
                                        <th>جریمه دیرکرد</th>
                                            <th>مهلت پرداخت </th>
                                           <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if fix_charges %}
                           {% for charge in fix_charges %}
                                    <tbody class="text-center p-0">
                                        <tr>
                                            <td>{{ forloop.counter }}</td>

                                            <td class="p-0">{{charge.name }}</td>
                                            <td>{{unit_count }}</td>
                                            <td class="bg-gradient-light p-0"><strong>{{charge.total_charge_month|three_digit_currency }}</strong></td>
                                                <td>{{ charge.details|truncatechars:20 }}</td>
                                            	  <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %}
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %}

                                             </td>
                                          <td class="bg-gradient-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>


                                               <td class="p-0">
                                                   <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1" ><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-middleCharge-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-fix_amount="{{ charge.fix_amount}}"
                                           data-civil="{{ charge.civil }}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-details="{{ charge.details }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                              <a href="{% url 'middle_fix_charge_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                           onclick="return confirmDeleteWithSweetAlert(event)">
                                                  <i class="mdi mdi-delete" aria-hidden="true"></i>
                                                </a>
                                      <a href="{% url 'middle_show_notification_fix_charge_form' charge.id %}"
                                                        class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>

                                        </td>
                    <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ هر واحد:</strong> {{ charge.fix_amount|three_digit_currency }} تومان</p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                                <p><strong>مهلت پرداخت :</strong> {{ charge.payment_deadline|show_jalali_date_only }} </p>
                                <p><strong>جریمه دیرکرد:</strong> {{ charge.payment_penalty_amount|three_digit_currency }} درصد</p>
                                <p><strong>توضیحات:</strong>
                                    {% if charge.details %}
                                        <span class="badge bg-warning">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %}

                                </p>

                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="11" class="text-center">هیچ پیامی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                            </table>
               </div>
  

        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ متراژی</div>
      <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                    <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                        <th class="p-0">مبلغ شارژ به ازای هر متر</th>
                                        <th>توضیحات</th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                        <th>مهلت پرداخت </th>
                                        <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if area_charges %}
                           {% for charge in area_charges %}
                                    <tbody class="text-center">
                                        <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td class="bg-gradient-light">{{charge.area_amount|three_digit_currency }}</td>
                                            <td>
                                                {% if charge.details %}
                                                    <span>دارد</span>
                                                	{% else %}
                                                    <span>ندارد</span>
                                                {% endif %} 
                                               
                                            </td>
                                            <td>{{charge.created_at|show_jalali }}</td>
                                              	  <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                              <td class="bg-gradient-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                            
                                               <td class="p-0">
                                                         <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}" title="اعلان شارژ"
                                                        class="btn btn-gradient-info text-dark px-2 py-1" ><i class="mdi mdi-eye"></i>
                                                </button>
                                                   
                                     <a href=""
                                         class="btn btn-gradient-primary px-3 py-2">  صورتحساب شارژ واحدها </a>
                                          
                                      
                                         

                                        </td>
                     <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ هر ازای هر متر:</strong> {{ charge.area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل متراژ:</strong> {{ charge.total_area }} متر</p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="11" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                            
                            </table>
                
       
               </div>


        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ نفری</div>
      <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                    <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                        <th class="p-0">مبلغ شارژ به ازای هر نفر</th>
                                        <th class="p-0">مبلغ شارژ به ازای هر متر</th>
                                        <th>توضیحات</th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                        <th>مهلت پرداخت </th>
                                        <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if person_charges %}
                           {% for charge in person_charges %}
                                    <tbody class="text-center">
                                       <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td>{{charge.person_amount|three_digit_currency }}</td>
                                            <td>{{charge.area_amount|three_digit_currency }}</td>
                                                <td>{{ charge.details|truncatechars:20 }}</td>

                                                  <td>{{charge.created_at|show_jalali }}</td>
                                            <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                      
                                               <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                            
                                               <td class="p-0">
                                                              <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-area-person-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-person_amount="{{ charge.person_amount }}"
                                           data-area_amount="{{ charge.area_amount}}"
                                           data-civil="{{ charge.civil }}"
                                           data-details="{{ charge.details }}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                          <a href="{% url 'middle_charge_area_person_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                       <a href="{% url 'middle_show_notification_person_area_charge_form' charge.id %}"
                                        class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>

                                        </td>
                     <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ هر ازای هر نفر:</strong> {{ charge.person_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر متر:</strong> {{ charge.area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل نفرات ساختمان:</strong> {{ charge.total_people }} نفر </p>
                                 <p><strong>کل متراژ ساختمان:</strong> {{ charge.total_area }} نفر </p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                            </table>
       
               </div>


        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ واحدی متراژی</div>
         <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                       <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                        <th> شارز ثابت(تومان) </th>
                                        <th class="p-0">مبلغ شارژ به ازای هر نفر(تومان)</th>
                                            <th> سایر هزینه ها </th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                        <th>مهلت پرداخت </th>
                                        <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if fix_person_charges %}
                           {% for charge in fix_person_charges %}
                                    <tbody class="text-center">
                                       <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td>{{charge.fix_charge_amount|three_digit_currency  }}</td>
                                            <td>{{charge.person_amount|three_digit_currency }}</td>
                                         <td>{{ charge.details|truncatechars:20 }}</td>
                                                  <td>{{charge.created_at|show_jalali }}</td>
                                            <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                      
                                               <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                            
                                               <td class="p-0">
                                                              <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-fix-person-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-fix_charge_amount="{{ charge.fix_charge_amount }}"
                                           data-person_amount="{{ charge.person_amount}}"
                                           data-civil="{{ charge.civil }}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-details="{{ charge.details }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                          <a href="{% url 'middle_charge_fix_person_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                      <a href="{% url 'middle_show_notification_fix_person_charge_form' charge.id %}"
                                         class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>
                                        </td>
                                    <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ ثابت هر واحد:</strong> {{ charge.fix_charge_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر نفر:</strong> {{ charge.person_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل نفرات:</strong> {{ charge.total_people }} نفر</p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                            </table>
       
               </div>


        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ واحدی نفری</div>
         <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                      <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                        <th> شارز ثابت(تومان) </th>
                                        <th class="p-0">مبلغ شارژ به ازای هر متر(تومان)</th>
                                        <th>توضیحات</th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                        <th>مهلت پرداخت </th>
                                        <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if fix_area_charges %}
                           {% for charge in fix_area_charges %}
                                    <tbody class="text-center">
                                        <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td>{{charge.fix_charge_amount|three_digit_currency  }}</td>
                                            <td>{{charge.area_amount|three_digit_currency }}</td>
                                                 <td>{{ charge.details|truncatechars:20 }}</td>
                                                  <td>{{charge.created_at|show_jalali }}</td>
                                            <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                      
                                               <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                            
                                               <td class="p-0">
                                                              <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-fix-area-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-fix_charge_amount="{{ charge.fix_charge_amount }}"
                                           data-area_amount="{{ charge.area_amount}}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-civil="{{ charge.civil }}"
                                           data-details="{{ charge.details }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                          <a href="{% url 'middle_charge-fix_area_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                            <a href="{% url 'middle_show_notification_fix_area_charge_form' charge.id %}"
                                                class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>
                                                   

                                        </td>
                                   <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ ثابت هر واحد:</strong> {{ charge.fix_charge_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر متر:</strong> {{ charge.area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل متراژ:</strong> {{ charge.total_area }} متر</p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                  
                            </table>
       
               </div>

        
        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ نفری متراژی</div>
         <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                    <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                        <th class="p-0">مبلغ شارژ به ازای هر نفر</th>
                                        <th class="p-0">مبلغ شارژ به ازای هر متر</th>
                                        <th>توضیحات</th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                        <th>مهلت پرداخت </th>
                                        <th> اعلام شارژ </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if charge_by_person_area %}
                           {% for charge in charge_by_person_area %}
                                    <tbody class="text-center">
                                       <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td>{{charge.person_amount|three_digit_currency }}</td>
                                            <td>{{charge.area_amount|three_digit_currency }}</td>
                                                <td>{{ charge.details|truncatechars:20 }}</td>

                                                  <td>{{charge.created_at|show_jalali }}</td>
                                            <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                      
                                               <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                            
                                               <td class="p-0">
                                                              <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-area-person-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-person_amount="{{ charge.person_amount }}"
                                           data-area_amount="{{ charge.area_amount}}"
                                           data-civil="{{ charge.civil }}"
                                           data-details="{{ charge.details }}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                          <a href="{% url 'middle_charge_area_person_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                       <a href="{% url 'middle_show_notification_person_area_charge_form' charge.id %}"
                                        class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>

                                        </td>
                     <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ هر ازای هر نفر:</strong> {{ charge.person_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر متر:</strong> {{ charge.area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل نفرات ساختمان:</strong> {{ charge.total_people }} نفر </p>
                                 <p><strong>کل متراژ ساختمان:</strong> {{ charge.total_area }} نفر </p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
                            </table>
       
               </div>


        <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                     لیست شارژ واحدی متراژی نفری</div>
             <div class="table-responsive mt-2">
                            <table class="table table-bordered">
                                <thead class="text-center">
                                      <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
{#                                        <th> تعداد واحدها </th>#}
                                        <th> شارژ ثابت </th>
                                        <th class="px-1"> شارژ به ازای هر نفر</th>
                                        <th class="px-1"> شارژ به ازای هر متر</th>
                                          <th>توضیحات</th>
                                        <th>تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                          <th> اعلام شارژ </th>
                                        <th>مهلت پرداخت </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if charge_by_fix_person_area %}
                           {% for charge in charge_by_fix_person_area %}
                                    <tbody class="text-center">
                                        <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
{#                                            <td>{{charge.unit_count }}</td>#}
                                            <td>{{charge.fix_charge_amount }}</td>
                                            <td>{{charge.person_amount|three_digit_currency }}</td>
                                            <td>{{charge.area_amount|three_digit_currency }}</td>
                                        <td>{{ charge.details|truncatechars:20 }}</td>
                                                  <td>{{charge.created_at|show_jalali }}</td>
                                            <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                             <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                               
                                             </td>
                                      
                                          
                                            
                                               <td class="p-0">
                                                  <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                      <a
                                           class="btn btn-gradient-info p-1 edit-area-person-fix-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-fix_charge_amount="{{ charge.fix_charge_amount }}"
                                           data-person_amount="{{ charge.person_amount }}"
                                           data-area_amount="{{ charge.area_amount}}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-civil="{{ charge.civil }}"
                                           data-details="{{ charge.details }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                                          <a href="{% url 'middle_charge_area_person_fix_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                        <a href="{% url 'middle_show_notification_fix_person_area_charge_form' charge.id %}"
                                         class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                        </a>

                                        </td>
                   <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ ثابت:</strong> {{ charge.fix_charge_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر نفر:</strong> {{ charge.person_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ هر ازای هر متر:</strong> {{ charge.area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل نفرات ساختمان:</strong> {{ charge.total_people }} نفر </p>
                                 <p><strong>کل متراژ ساختمان:</strong> {{ charge.total_area }} متر </p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}
               
                            </table>
       
               </div>


            <div class="col-12 p-0 mt-4"><img src="/static/admin_panel/icone8/icons8-note-48.png" width="30" alt="">
                         لیست شارژ ثابت و متغیر </div>
             <div class="table-responsive mt-2">
                  <table class="table table-bordered">
                                <thead class="text-center">
                                        <tr>
                                        <th>#</th>
                                        <th> عنوان شارژ </th>
                                        <th> تعداد واحدها </th>
                                       <th class="p-0"> شارژ ثابت هر واحد</th>
                                        <th class="p-0"> شارژ متغیر هر متر</th>
                                        <th class="p-0"> شارژ متغیر هر نفر</th>
                                            <th>توضیحات</th>
                                        <th class="p-0">تاریخ ثبت</th>
                                        <th>جریمه دیرکرد</th>
                                          <th> اعلام شارژ </th>
                                        <th>مهلت پرداخت </th>
                                        <th>دستورات</th>
                                    </tr>
                                </thead>
                            {% if charge_fix_variable %}
                           {% for charge in charge_fix_variable %}
                                    <tbody class="text-center">
                                        <tr>
                                            <td>{{ forloop.counter }}</td>
                                            <td>{{charge.name }}</td>
                                            <td>{{charge.unit_count }}</td>
                                            <td>{{charge.unit_fix_amount|three_digit_currency }}</td>
                                            <td>{{charge.unit_variable_area_amount|three_digit_currency }}</td>
                                            <td>{{charge.unit_variable_person_amount|three_digit_currency }}</td>
                                        <td>{{ charge.details|truncatechars:20 }}</td>
                                         <td>{{charge.created_at|show_jalali }}</td>
                                       <td>
                                                   {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                          </td>
                                             <td class="bg-light">
                                                <span>{{ charge.notified_count }} از {{ unit_count }} واحد</span>
                                                </td>
                                                         <td>
                                                 {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %}
                                             </td>
                                               <td class="p-0">
                                                  <button data-bs-toggle="modal" data-bs-target="#exampleModalLong2{{ charge.id }}"
                                                        class="btn btn-gradient-info text-dark px-2 py-1"><i class="mdi mdi-eye"></i>
                                                </button>
                                                                   <a
                                           class="btn btn-gradient-info p-1 edit-variable-fix-btn"
                                           data-id="{{ charge.id }}"
                                           data-name="{{ charge.name }}"
                                           data-unit_fix_amount="{{ charge.unit_fix_amount }}"
                                           data-extra_parking_amount="{{ charge.extra_parking_amount }}"
                                           data-unit_variable_person_amount="{{ charge.unit_variable_person_amount }}"
                                           data-unit_variable_area_amount="{{ charge.unit_variable_area_amount }}"
                                           data-other_cost_amount="{{ charge.other_cost_amount }}"
                                           data-payment_penalty_amount="{{ charge.payment_penalty_amount }}"
                                           data-payment_deadline="{{ charge.payment_deadline|show_jalali }}"
                                           data-civil="{{ charge.civil }}"
                                           data-details="{{ charge.details }}"
                                           data-bs-toggle="modal"
                                           data-bs-target="#exampleModalLong">
                                           <i class="mdi mdi-lead-pencil" aria-hidden="true"></i>
                                        </a>
                             
                                            <a href="{% url 'middle_charge_variable_fix_delete' charge.id %}" class="btn btn-gradient-danger p-1"
                                       onclick="return confirmDeleteWithSweetAlert(event)">
                                              <i class="mdi mdi-delete" aria-hidden="true"></i>
                                            </a>
                                         <a href="{% url 'middle_show_notification_fix_variable_charge_form' charge.id %}"
                                         class="btn btn-gradient-success px-3 py-1" 
                                          data-bs-toggle="tooltip"  title="اعلان شارژ">
                                         <i class="fas fa-bullhorn fa-flip-horizontal"></i>
                                            </a>

                                        </td>
                      <div class="modal fade"  id="exampleModalLong2{{ charge.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ charge.id }}" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalLabel{{ charge.id }}">مشاهده جزئیات </h5>
                            </div>
                          <hr/>
                            <div class="modal-body text-end">
                                <p><strong>عنوان:</strong> {{ charge.name }}</p>
                                 <p><strong>مبلغ شارژ ثابت هر واحد:</strong> {{ charge.unit_fix_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ متغیر هر ازای هر نفر:</strong> {{ charge.unit_variable_person_amount|three_digit_currency }} تومان</p>
                                 <p><strong>مبلغ شارژ متغیر هر ازای هر متر:</strong> {{ charge.unit_variable_area_amount|three_digit_currency }} تومان</p>
                                 <p><strong>کل نفرات ساختمان:</strong> {{ charge.total_people }} نفر </p>
                                 <p><strong>کل متراژ ساختمان:</strong> {{ charge.total_area }} متر </p>
                                <p><strong>شارژ عمرانی:</strong> {{ charge.civil|three_digit_currency }} تومان</p>
                                <p><strong>سایر هزینه ها:</strong> {{ charge.other_cost_amount|three_digit_currency }} تومان</p>
                                <p><strong>هزینه پارکینگ اضافه:</strong> {{ charge.extra_parking_amount|three_digit_currency }} تومان</p>
                                <p><strong>تاریخ ثبت :</strong> {{ charge.created_at|show_jalali_date_only }} </p>
                               <p><strong>مهلت پرداخت :</strong>
                                          {% if charge.payment_deadline %}
                                                 	  {{charge.payment_deadline|show_jalali_date_only }}
                                                   {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                               </p>
                                <p><strong>جریمه دیرکرد:</strong>
                                             {% if charge.payment_penalty_amount %}
                                                      % {{charge.payment_penalty_amount }}
                                                {% else %}
                                                ثبت نشده است
                                            {% endif %} 
                                </p>
                                <p><strong>توضیحات:</strong> 
                                    {% if charge.details %}
                                        <span class="bg-warning text-wrap">{{ charge.details }} </span>
                                        {% else %}
                                        توضیحات ثبت نشده است
                                    {% endif %} 
                                    
                                </p>
                                    
                            </div>
                            <hr/>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger p-2" data-bs-dismiss="modal">بستن</button>
                            </div>
                        </div>
                    </div>
                </div>

                                        </tr>
                                    {% endfor %}
                                        {% else %}
                                        <tr>
                                            <td colspan="12" class="text-center">هیچ رکوردی برای نمایش وجود ندارد.</td>
                                        </tr>
                                 <tbody>
                                {% endif %}

                            </table>
               </div>
  
</div>

{% endblock %}


